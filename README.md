# GeoTask - å¸¦åœ°ç†ä½ç½®æé†’çš„ä»»åŠ¡ç®¡ç†åº”ç”¨

[![Android](https://img.shields.io/badge/Platform-Android-green.svg)](https://developer.android.com)
[![Kotlin](https://img.shields.io/badge/Language-Kotlin-blue.svg)](https://kotlinlang.org)
[![Jetpack Compose](https://img.shields.io/badge/UI-Jetpack%20Compose-purple.svg)](https://developer.android.com/jetpack/compose)
[![MVVM](https://img.shields.io/badge/Architecture-MVVM-orange.svg)](https://developer.android.com/jetpack/guide)

ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„Androidä»»åŠ¡ç®¡ç†åº”ç”¨ï¼Œæ”¯æŒåœ°ç†ä½ç½®æé†’ã€è¯­éŸ³åˆ›å»ºä»»åŠ¡å’Œæ™ºèƒ½å·¥ä½œæµé›†æˆã€‚æœ¬é¡¹ç›®å±•ç¤ºäº†ç°ä»£Androidå¼€å‘çš„æœ€ä½³å®è·µå’Œå®Œæ•´æŠ€æœ¯æ ˆã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ“ ä»»åŠ¡ç®¡ç†
- **ä»»åŠ¡åˆ—è¡¨**ï¼šæ”¯æŒæŸ¥çœ‹ã€ç­›é€‰ï¼ˆå…¨éƒ¨/å·²å®Œæˆ/æœªå®Œæˆï¼‰å’Œæœç´¢ä»»åŠ¡
- **ä»»åŠ¡è¯¦æƒ…**ï¼šå®Œæ•´çš„ä»»åŠ¡ä¿¡æ¯å±•ç¤ºå’Œç¼–è¾‘åŠŸèƒ½
- **ä»»åŠ¡åˆ›å»º**ï¼šæ”¯æŒæ‰‹åŠ¨åˆ›å»ºå’Œè¯­éŸ³åˆ›å»ºä¸¤ç§æ–¹å¼
- **æ•°æ®æŒä¹…åŒ–**ï¼šä½¿ç”¨Roomæ•°æ®åº“æœ¬åœ°å­˜å‚¨

### ğŸ¤ è¯­éŸ³åŠŸèƒ½
- **è¯­éŸ³åˆ›å»ºä»»åŠ¡**ï¼šé•¿æŒ‰æŒ‰é’®å½•éŸ³ï¼Œè‡ªåŠ¨è½¬æ¢ä¸ºæ–‡æœ¬å¹¶åˆ›å»ºä»»åŠ¡
- **Whisperé›†æˆ**ï¼šæœ¬åœ°è¯­éŸ³è¯†åˆ«ï¼Œæ”¯æŒä¸­æ–‡è¯­éŸ³è½¬æ–‡å­—
- **æ™ºèƒ½å·¥ä½œæµ**ï¼šé€šè¿‡AIåç«¯è‡ªåŠ¨è§£æè¯­éŸ³å†…å®¹ç”Ÿæˆç»“æ„åŒ–ä»»åŠ¡

### ğŸ—ºï¸ åœ°ç†ä½ç½®åŠŸèƒ½
- **åœ°å›¾é€‰ç‚¹**ï¼šåœ¨åœ°å›¾ä¸Šé€‰æ‹©ä»»åŠ¡ç›¸å…³ä½ç½®
- **åœ°ç†å›´æ **ï¼šè¿›å…¥æŒ‡å®šåŒºåŸŸè‡ªåŠ¨è§¦å‘ä»»åŠ¡æé†’
- **é«˜å¾·åœ°å›¾é›†æˆ**ï¼šä½¿ç”¨é«˜å¾·åœ°å›¾SDKæä¾›å®šä½å’Œåœ°å›¾æœåŠ¡
- **ä½ç½®æƒé™ç®¡ç†**ï¼šæ™ºèƒ½å¤„ç†ä½ç½®æƒé™è¯·æ±‚

### â° æé†’ç³»ç»Ÿ
- **æ—¶é—´æé†’**ï¼šåŸºäºä»»åŠ¡åˆ°æœŸæ—¶é—´çš„å®šæ—¶æé†’
- **ä½ç½®æé†’**ï¼šåŸºäºåœ°ç†å›´æ çš„ä½ç½®è§¦å‘æé†’
- **åå°ä»»åŠ¡**ï¼šä½¿ç”¨WorkManagerç¡®ä¿åº”ç”¨è¢«æ€æ­»åä»èƒ½æ­£å¸¸æé†’
- **é€šçŸ¥ç®¡ç†**ï¼šæ”¯æŒé€šçŸ¥æ¸ é“å’Œç‚¹å‡»è·³è½¬

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ¶æ„æ¨¡å¼
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Presentation               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Screens  â”‚  ViewModels  â”‚  UI Components â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                Domain                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Models   â”‚  UseCases   â”‚  Repository   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 Data                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Repository Impl â”‚ DataSource â”‚ Services â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

#### UIå±‚
- **Jetpack Compose** - ç°ä»£å£°æ˜å¼UIæ¡†æ¶
- **Material Design 3** - æœ€æ–°è®¾è®¡è§„èŒƒ
- **Navigation Compose** - é¡µé¢å¯¼èˆªç®¡ç†
- **Hilt Navigation Compose** - ä¾èµ–æ³¨å…¥é›†æˆ

#### æ¶æ„ç»„ä»¶
- **MVVM + Repository** - æ¸…æ™°çš„æ¶æ„åˆ†å±‚
- **UseCase** - ä¸šåŠ¡é€»è¾‘å°è£…
- **Hilt/Dagger** - ä¾èµ–æ³¨å…¥æ¡†æ¶
- **Kotlin Coroutines + Flow** - å¼‚æ­¥ç¼–ç¨‹å’Œå“åº”å¼æ•°æ®æµ

#### æ•°æ®å±‚
- **Room Database** - æœ¬åœ°æ•°æ®åº“å­˜å‚¨
- **DataStore** - ç”¨æˆ·åå¥½è®¾ç½®å­˜å‚¨
- **Repository Pattern** - æ•°æ®è®¿é—®æŠ½è±¡

#### åå°æœåŠ¡
- **WorkManager** - åå°ä»»åŠ¡è°ƒåº¦
- **GeofencingClient** - åœ°ç†å›´æ ç®¡ç†
- **NotificationManager** - é€šçŸ¥ç³»ç»Ÿ

#### ç¬¬ä¸‰æ–¹é›†æˆ
- **é«˜å¾·åœ°å›¾SDK** - åœ°å›¾å’Œå®šä½æœåŠ¡
- **Whisper** - æœ¬åœ°è¯­éŸ³è¯†åˆ«
- **OkHttp** - ç½‘ç»œè¯·æ±‚
- **Timber** - æ—¥å¿—è®°å½•

## ğŸ“± åº”ç”¨æˆªå›¾

### ä¸»è¦ç•Œé¢
- ä»»åŠ¡åˆ—è¡¨é¡µé¢
- ä»»åŠ¡è¯¦æƒ…é¡µé¢  
- åœ°å›¾é€‰ç‚¹é¡µé¢
- è¯­éŸ³å½•åˆ¶ç•Œé¢

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- **Android Studio** Arctic Fox æˆ–æ›´é«˜ç‰ˆæœ¬
- **Kotlin** 1.9+
- **Android SDK** API 26+ (Android 8.0+)
- **Gradle** 8.0+

### å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/MoQiii/GeoTask.git
cd GeoTask
```

### é…ç½®æ­¥éª¤

1. **é…ç½®é«˜å¾·åœ°å›¾APIå¯†é’¥**
   - åœ¨[é«˜å¾·å¼€æ”¾å¹³å°](https://lbs.amap.com/)ç”³è¯·APIå¯†é’¥
   - åœ¨ `app/src/main/AndroidManifest.xml` ä¸­æ›¿æ¢å¯†é’¥ï¼š
   ```xml
   <meta-data
       android:name="com.amap.api.v2.apikey"
       android:value="YOUR_API_KEY_HERE" />
   ```

2. **é…ç½®åç«¯APIï¼ˆå¯é€‰ï¼‰**
   - å¦‚æœéœ€è¦ä½¿ç”¨AIå·¥ä½œæµåŠŸèƒ½ï¼Œé…ç½® `kotlin-client` æ¨¡å—ä¸­çš„APIåœ°å€
   - ä¿®æ”¹ `ApiClient` é…ç½®æ–‡ä»¶

3. **åŒæ­¥é¡¹ç›®**
   ```bash
   ./gradlew build
   ```

4. **è¿è¡Œåº”ç”¨**
   - è¿æ¥Androidè®¾å¤‡æˆ–å¯åŠ¨æ¨¡æ‹Ÿå™¨
   - ç‚¹å‡»Android Studioçš„è¿è¡ŒæŒ‰é’®

## ğŸ“ é¡¹ç›®ç»“æ„

```
GeoTask/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ src/main/java/com/syj/geotask/
â”‚   â”‚   â”œâ”€â”€ presentation/          # UIå±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ screens/           # é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ viewmodel/         # ViewModel
â”‚   â”‚   â”‚   â””â”€â”€ ui-components/     # UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ domain/                # é¢†åŸŸå±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ model/             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/        # ä»“å‚¨æ¥å£
â”‚   â”‚   â”‚   â””â”€â”€ usecase/           # ç”¨ä¾‹
â”‚   â”‚   â”œâ”€â”€ data/                  # æ•°æ®å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/        # ä»“å‚¨å®ç°
â”‚   â”‚   â”‚   â”œâ”€â”€ datasource/        # æ•°æ®æº
â”‚   â”‚   â”‚   â”œâ”€â”€ service/           # æœåŠ¡
â”‚   â”‚   â”‚   â””â”€â”€ receiver/          # å¹¿æ’­æ¥æ”¶å™¨
â”‚   â”‚   â”œâ”€â”€ speech/                # è¯­éŸ³è¯†åˆ«
â”‚   â”‚   â”œâ”€â”€ utils/                 # å·¥å…·ç±»
â”‚   â”‚   â””â”€â”€ di/                    # ä¾èµ–æ³¨å…¥
â”‚   â”œâ”€â”€ libs/                      # æœ¬åœ°åº“æ–‡ä»¶
â”‚   â””â”€â”€ assets/                    # èµ„æºæ–‡ä»¶
â”œâ”€â”€ kotlin-client/                 # APIå®¢æˆ·ç«¯æ¨¡å—
â”œâ”€â”€ gradle/                        # Gradleé…ç½®
â””â”€â”€ docs/                          # æ–‡æ¡£
```

## ğŸ”§ æ ¸å¿ƒåŠŸèƒ½å®ç°

### è¯­éŸ³åˆ›å»ºä»»åŠ¡æµç¨‹
```kotlin
// 1. é•¿æŒ‰æŒ‰é’®å¼€å§‹å½•éŸ³
button.onLongPress {
    voiceTaskManager.startRecording()
}

// 2. æ¾å¼€æŒ‰é’®ç»“æŸå½•éŸ³å¹¶å¤„ç†
button.onRelease {
    voiceTaskManager.stopRecording { audioFile ->
        // 3. è¯­éŸ³è½¬æ–‡å­—
        speechToTextManager.recognize(audioFile) { text ->
            // 4. è°ƒç”¨AIå·¥ä½œæµ
            aiControllerApi.createTask(text) { task ->
                // 5. ä¿å­˜ä»»åŠ¡å¹¶åˆ·æ–°ç•Œé¢
                taskRepository.insert(task)
            }
        }
    }
}
```

### åœ°ç†å›´æ æé†’
```kotlin
// åˆ›å»ºåœ°ç†å›´æ 
geofenceManager.createGeofence(
    latitude = task.latitude,
    longitude = task.longitude,
    radius = task.geofenceRadius
) { geofenceId ->
    // æ³¨å†Œåœ°ç†å›´æ 
    geofencingClient.addGeofences(geofenceRequest, pendingIntent)
}

// åœ°ç†å›´æ è§¦å‘å¤„ç†
class GeofenceBroadcastReceiver : BroadcastReceiver() {
    override fun onReceive(context: Context, intent: Intent) {
        // å‘é€ä»»åŠ¡æé†’é€šçŸ¥
        notificationManager.showTaskNotification(task)
    }
}
```

## ğŸ“‹ æƒé™è¯´æ˜

åº”ç”¨éœ€è¦ä»¥ä¸‹æƒé™ï¼š

| æƒé™ | ç”¨é€” | å¿…éœ€æ€§ |
|------|------|--------|
| `ACCESS_FINE_LOCATION` | ç²¾ç¡®å®šä½ | å¿…éœ€ |
| `ACCESS_COARSE_LOCATION` | ç²—ç•¥å®šä½ | å¿…éœ€ |
| `ACCESS_BACKGROUND_LOCATION` | åå°å®šä½ | å¯é€‰ |
| `RECORD_AUDIO` | å½•éŸ³åŠŸèƒ½ | å¿…éœ€ |
| `POST_NOTIFICATIONS` | å‘é€é€šçŸ¥ | å¿…éœ€ |
| `INTERNET` | ç½‘ç»œè®¿é—® | å¿…éœ€ |

## ğŸ§ª æµ‹è¯•

### å•å…ƒæµ‹è¯•
```bash
./gradlew test
```

### é›†æˆæµ‹è¯•
```bash
./gradlew connectedAndroidTest
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [éœ€æ±‚æ–‡æ¡£](app/éœ€æ±‚/) - è¯¦ç»†çš„åŠŸèƒ½éœ€æ±‚è¯´æ˜
- [æŠ€æœ¯æ–‡æ¡£](md/) - æŠ€æœ¯å®ç°ç»†èŠ‚å’Œé—®é¢˜è§£å†³è®°å½•
- [APIæ–‡æ¡£](kotlin-client/docs/) - åç«¯APIæ¥å£æ–‡æ¡£

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- [é«˜å¾·åœ°å›¾](https://lbs.amap.com/) - æä¾›åœ°å›¾å’Œå®šä½æœåŠ¡
- [Whisper](https://github.com/openai/whisper) - è¯­éŸ³è¯†åˆ«å¼•æ“
- [Jetpack Compose](https://developer.android.com/jetpack/compose) - ç°ä»£UIæ¡†æ¶
- [Hilt](https://dagger.dev/hilt/) - ä¾èµ–æ³¨å…¥æ¡†æ¶

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ [Issue](https://github.com/MoQiii/GeoTask/issues)
---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªæ˜Ÿæ ‡ï¼
